# ANSIBLE
The [Vagrantfile](./Vagrantfile) is generated by the vagrant binary. Refer to vagrant image [repository](https://app.vagrantup.com/boxes/search) for vm template image availability.
[Ansible](https://www.ansible.com/) is a platform agnostic configuration automation tool.

### Dependencies
| Dependency | Comments |
| - | - |
| [Python](https://www.python.org/downloads/) | Programming language required to run ansible |
| [Virtualenv](https://docs.python.org/3/tutorial/venv.html) | Python environment isolation |

### Pre deployment steps
```bash
# Initialise virtualenv
python3 -m venv .venv

# Activate virtualenv
source ./venv/bin/activate

# Install requirements
pip install -r requirements.txt
```
### [Makefile](./Makefile) commands
| Command | Comments |
| - | - |
| clean | Destroys virtualmachine. Deletes vagrant cache folder |
| config | Validates vagrant configuration |
| down | Suspends the virtualmachine |
| login | ssh to the virtualmachine |
| provision | Executes the selected provisioner. For this example, it's ansible |
| status | Checks the VM state |
| up | Starts the VM. Creates if it doesnt exist. |
|||

### VM provision
The PoC ansible playbook installs the following host binaries through the apt packagemanager.
- ntp
- docker
- docker-compose
```bash
# Deploy VM
make up

# Login to VM
make login # You can manually interrogate the installed binaries through an interactive ssh session

# Destroy VM
make clean
```